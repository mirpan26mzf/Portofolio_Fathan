<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MyTube - Portfolio Video</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://kit.fontawesome.com/a2e0e9c6d3.js" crossorigin="anonymous"></script>
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <div class="logo">My<span>Tube</span></div>

    <div class="search-box">
      <input type="text" id="searchInput" placeholder="Cari video..." />
      <button id="searchBtn"><i class="fas fa-search"></i></button>
    </div>

    <div class="mode-toggle" id="modeToggle">
      <i class="fas fa-sun" id="lightIcon" style="display:none;"></i>
      <i class="fas fa-moon" id="darkIcon"></i>
    </div>
  </header>

  <!-- Container -->
  <main class="video-container" id="videoContainer"></main>
  <!-- Popup Player -->
<div class="video-popup" id="videoPopup">
  <span class="close-popup" id="closePopup">&times;</span>
  <iframe id="popupVideo" src="" frameborder="0" allowfullscreen></iframe>
</div>


<script>
// ======== DATA VIDEO ========
const videos = [
  {
    title: "Tutorial HTML Dasar",
    url: "https://www.youtube.com/embed/bxbAyvT0qcE",
    desc: "Belajar dasar-dasar HTML untuk pemula."
  },
  {
    title: "Belajar CSS Modern",
    url: "https://www.youtube.com/embed/yfoY53QXEnI",
    desc: "Gaya modern dengan CSS dan animasi."
  },
  {
    title: "JavaScript Interaktif",
    url: "https://www.youtube.com/embed/W6NZfCO5SIk",
    desc: "Membuat website lebih dinamis dengan JS."
  },
  {
    title: "Membuat Portofolio Website",
    url: "https://www.youtube.com/embed/xV7S8BhIeBo",
    desc: "Tutorial lengkap membangun web portofolio."
  }
];

// ======== GENERATE VIDEO CARD ========
const container = document.getElementById("videoContainer");

function renderVideos(list) {
  container.innerHTML = "";
  list.forEach(v => {
    const card = document.createElement("div");
    card.classList.add("video-card");
    card.dataset.title = v.title;

    // Gambar thumbnail YouTube otomatis
    const videoId = v.url.split("/embed/")[1];
    const thumbnail = `https://img.youtube.com/vi/${videoId}/hqdefault.jpg`;

    card.innerHTML = `
      <img src="${thumbnail}" alt="${v.title}">
      <h3>${v.title}</h3>
      <p>${v.desc}</p>
    `;

    // ===== Hover Preview =====
    let preview;
    let timer;

    card.addEventListener("mouseenter", () => {
      if (window.innerWidth < 768) return; // nonaktif di mobile

      timer = setTimeout(() => {
        preview = document.createElement("div");
        preview.classList.add("video-preview");
        preview.innerHTML = `
          <iframe
            src="${v.url}?autoplay=1&mute=1"
            frameborder="0"
            allow="autoplay; encrypted-media"
            allowfullscreen>
          </iframe>
        `;
        document.body.appendChild(preview);

        // Posisi popup muncul di atas card
        const rect = card.getBoundingClientRect();
        preview.style.left = rect.left + "px";
        preview.style.top = (rect.top - 200) + "px";
      }, 1000); // delay 1 detik
    });

    card.addEventListener("mouseleave", () => {
      clearTimeout(timer);
      if (preview) {
        preview.classList.add("fade-out");
        setTimeout(() => preview.remove(), 300);
      }
    });

    container.appendChild(card);
  });
}

renderVideos(videos);

// ======== MODE GELAP-TERANG ========
const modeToggle = document.getElementById("modeToggle");
const body = document.body;
const lightIcon = document.getElementById("lightIcon");
const darkIcon = document.getElementById("darkIcon");

modeToggle.addEventListener("click", () => {
  body.classList.toggle("dark");
  const darkMode = body.classList.contains("dark");
  darkIcon.style.display = darkMode ? "none" : "inline";
  lightIcon.style.display = darkMode ? "inline" : "none";
});

// ======== PENCARIAN VIDEO ========
const searchInput = document.getElementById("searchInput");
const searchBtn = document.getElementById("searchBtn");

function searchVideo() {
  const filter = searchInput.value.toLowerCase();
  const filtered = videos.filter(v => v.title.toLowerCase().includes(filter));
  renderVideos(filtered);
}

searchBtn.addEventListener("click", searchVideo);
searchInput.addEventListener("keyup", searchVideo);
</script>


</body>
</html>
